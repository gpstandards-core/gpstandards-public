<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G&P OS | v5.0 TACTICAL</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100;400;700;800&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        void: '#050505',
                        grid: '#1A1A1A',
                        terminal: '#FFB000', // Amber
                        success: '#00FF41',  // Matrix Green
                        alert: '#FF2A00',    // Risk Red
                        dim: '#444444'
                    },
                    fontFamily: {
                        mono: ['"JetBrains Mono"', 'monospace'],
                    },
                    backgroundImage: {
                        'grid-pattern': "linear-gradient(to right, #1a1a1a 1px, transparent 1px), linear-gradient(to bottom, #1a1a1a 1px, transparent 1px)",
                    },
                    animation: {
                        'pulse-fast': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'marquee': 'marquee 30s linear infinite',
                    },
                    keyframes: {
                        marquee: {
                            '0%': { transform: 'translateX(100%)' },
                            '100%': { transform: 'translateX(-100%)' },
                        }
                    }
                }
            }
        }
    </script>

    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            background-color: #050505;
            color: #FFB000;
            overflow: hidden; /* OS FEEL */
        }
        
        /* SCANLINE OVERLAY */
        .scanline {
            width: 100%;
            height: 100px;
            z-index: 10;
            background: linear-gradient(0deg, rgba(0,0,0,0) 0%, rgba(255, 176, 0, 0.02) 50%, rgba(0,0,0,0) 100%);
            opacity: 0.1;
            position: fixed;
            bottom: 100%;
            animation: scanline 8s linear infinite;
            pointer-events: none;
        }
        @keyframes scanline {
            0% { bottom: 100%; }
            100% { bottom: -100%; }
        }

        /* MODAL STYLING */
        dialog {
            background: rgba(5, 5, 5, 0.98);
            border: 1px solid #FFB000;
            color: #FFB000;
            max-width: 900px;
            width: 90%;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
        }
        dialog::backdrop {
            background: rgba(0, 0, 0, 0.9);
        }

        /* GLITCH HOVER */
        .btn-glitch:hover {
            text-shadow: 2px 0 #FF2A00, -2px 0 #00FF41;
            background: rgba(255, 176, 0, 0.1);
        }

        /* INPUT REMOVE AUTOFILL BG */
        input:-webkit-autofill,
        input:-webkit-autofill:hover, 
        input:-webkit-autofill:focus, 
        input:-webkit-autofill:active {
            -webkit-box-shadow: 0 0 0 30px #1A1A1A inset !important;
            -webkit-text-fill-color: white !important;
            transition: background-color 5000s ease-in-out 0s;
        }
    </style>
</head>
<body class="font-mono h-screen w-screen flex flex-col relative selection:bg-terminal selection:text-black">

    <div class="fixed inset-0 bg-grid-pattern bg-[length:40px_40px] z-0 pointer-events-none"></div>
    <div class="scanline"></div>

    <header class="relative z-50 flex justify-between items-center px-6 py-3 border-b border-grid bg-void text-[10px] md:text-xs tracking-widest text-dim uppercase">
        <div class="flex flex-col md:flex-row md:items-center gap-2 md:gap-4">
            <span class="text-terminal">SYSTEM: ONLINE</span>
            <span class="hidden md:inline">|</span>
            <span class="text-white">LEGAL DOMICILE: DELAWARE, USA</span>
            <span class="hidden md:inline">|</span>
            <span>PROTOCOL: SOVEREIGN</span>
        </div>
        <div class="flex items-center gap-4">
            <button onclick="document.getElementById('modal-alpha').showModal()" class="hover:text-terminal cursor-pointer flex items-center gap-2">
                <i data-lucide="satellite" class="w-3 h-3"></i> <span class="hidden md:inline">ALPHA FEED</span>
            </button>
            <button onclick="document.getElementById('modal-nodes').showModal()" class="hover:text-terminal cursor-pointer flex items-center gap-2">
                <i data-lucide="globe" class="w-3 h-3"></i> <span class="hidden md:inline">ESTABLISH UPLINK</span>
            </button>
        </div>
    </header>

    <main class="flex-1 relative z-10 flex flex-col items-center justify-center p-6 overflow-y-auto">
        
        <div class="mb-12 relative group cursor-default mt-8 md:mt-0">
            <div class="w-48 h-48 md:w-64 md:h-64 border border-grid rounded-full flex items-center justify-center relative">
                <div class="absolute inset-0 border border-terminal/20 rounded-full animate-ping"></div>
                <div class="absolute inset-4 border border-terminal/40 rounded-full animate-pulse-fast"></div>
                <div class="text-center">
                    <div class="text-3xl md:text-4xl font-bold text-terminal mb-2">100%</div>
                    <div class="text-[10px] tracking-widest text-dim uppercase">G&P Diversity Engine™<br>STATUS: ACTIVE</div>
                </div>
            </div>
        </div>

        <div class="flex flex-col md:flex-row gap-6 w-full max-w-4xl mb-8">
            <button onclick="openCalculator('LEGAL')" class="btn-glitch flex-1 border border-terminal/50 p-6 md:p-8 text-left transition-all group relative overflow-hidden bg-void">
                <div class="text-xs text-dim mb-2 uppercase tracking-widest group-hover:text-terminal">/// COMMAND A</div>
                <div class="text-xl md:text-2xl font-bold text-white mb-2 group-hover:text-terminal">WEALTH PRESERVATION</div>
                <div class="text-[10px] md:text-xs text-gray-500 font-normal">EXECUTE LEGAL INFRASTRUCTURE AUDIT</div>
                <div class="absolute bottom-0 right-0 p-2 opacity-20">
                    <i data-lucide="scale" class="w-10 h-10 md:w-12 md:h-12"></i>
                </div>
            </button>

            <button onclick="openCalculator('CRE')" class="btn-glitch flex-1 border border-terminal/50 p-6 md:p-8 text-left transition-all group relative overflow-hidden bg-void">
                <div class="text-xs text-dim mb-2 uppercase tracking-widest group-hover:text-terminal">/// COMMAND B</div>
                <div class="text-xl md:text-2xl font-bold text-white mb-2 group-hover:text-terminal">ASSET OPTIMIZATION</div>
                <div class="text-[10px] md:text-xs text-gray-500 font-normal">EXECUTE NOI UPLIFT PROTOCOLS</div>
                <div class="absolute bottom-0 right-0 p-2 opacity-20">
                    <i data-lucide="building" class="w-10 h-10 md:w-12 md:h-12"></i>
                </div>
            </button>
        </div>

        <div>
            <button onclick="document.getElementById('modal-protocols').showModal()" class="text-xs text-dim hover:text-white border-b border-transparent hover:border-terminal transition-colors pb-1 uppercase tracking-[0.2em]">
                [ VIEW INFRASTRUCTURE TIERS ]
            </button>
        </div>

    </main>

    <footer class="relative z-50 border-t border-terminal/30 bg-void h-10 flex items-center overflow-hidden cursor-pointer hover:bg-terminal/10 transition-colors" onclick="document.getElementById('modal-governance').showModal()">
        <div class="whitespace-nowrap animate-marquee text-[10px] md:text-xs text-terminal/80 uppercase tracking-widest font-bold">
            > SYSTEM LOG: RECOVERED $42,000 (CAM CHARGES) - NY PORTFOLIO &nbsp;&nbsp;///&nbsp;&nbsp; > SYSTEM LOG: INTAKE AUTOMATION ACTIVE - 98% CAPTURE RATE &nbsp;&nbsp;///&nbsp;&nbsp; > SYSTEM LOG: CONFLICT CHECK COMPLETE - 0.2 SECONDS &nbsp;&nbsp;///&nbsp;&nbsp; > ISO 42001 ALIGNED &nbsp;&nbsp;///&nbsp;&nbsp; > ANTI-TRAINING COVENANT ACTIVE
        </div>
    </footer>


    <dialog id="modal-calculator" class="p-0 overflow-hidden">
        <div class="border-b border-terminal p-4 flex justify-between items-center bg-terminal/10">
            <h3 class="text-sm font-bold tracking-widest">/// AUDIT YOUR LEAKAGE</h3>
            <button onclick="this.closest('dialog').close()" class="hover:text-white">✕</button>
        </div>
        <div class="p-8 md:p-12 bg-void">
            <div class="grid md:grid-cols-2 gap-12">
                <div class="space-y-6">
                    <div>
                        <label class="block text-xs text-dim uppercase mb-2">Hourly Billable Rate ($)</label>
                        <input type="number" id="hourlyRate" value="500" class="w-full bg-grid border border-dim p-3 text-white focus:border-terminal focus:outline-none" oninput="calculateLoss()">
                    </div>
                    <div>
                        <label class="block text-xs text-dim uppercase mb-2">Unbilled Admin Hours / Week</label>
                        <input type="number" id="unbilledHours" value="5" class="w-full bg-grid border border-dim p-3 text-white focus:border-terminal focus:outline-none" oninput="calculateLoss()">
                    </div>
                    <div class="pt-4 text-[10px] text-gray-500 font-mono">
                        *FORMULA: (RATE * HOURS * 52 WEEKS)
                    </div>
                </div>
                <div class="flex flex-col justify-center border-l border-dim pl-12">
                    <div class="mb-8">
                        <div class="text-xs text-alert uppercase tracking-widest mb-2">ANNUAL REVENUE BLEED</div>
                        <div id="totalLoss" class="text-4xl md:text-5xl font-bold text-alert">$130,000</div>
                    </div>
                    <div class="opacity-0 transition-opacity duration-1000" id="recovery-box">
                        <div class="text-xs text-success uppercase tracking-widest mb-2">G&P RECOVERY POTENTIAL</div>
                        <div class="text-4xl md:text-5xl font-bold text-success">100%</div>
                    </div>
                </div>
            </div>
            <button onclick="document.getElementById('modal-nodes').showModal()" class="w-full mt-8 bg-terminal text-black font-bold py-4 hover:bg-white transition-colors uppercase tracking-widest">
                EXECUTE RECOVERY PROTOCOL
            </button>
        </div>
    </dialog>

    <dialog id="modal-nodes" class="p-0">
        <div class="border-b border-terminal p-4 flex justify-between items-center bg-terminal/10">
            <h3 class="text-sm font-bold tracking-widest">/// ESTABLISH UPLINK</h3>
            <button onclick="this.closest('dialog').close()" class="hover:text-white">✕</button>
        </div>
        <div class="p-8 bg-void grid md:grid-cols-2 gap-12">
            <div class="relative border border-dim bg-grid p-6 min-h-[300px] flex items-center justify-center hidden md:flex">
                <div class="absolute inset-0 flex items-center justify-center">
                    <div class="w-32 h-px bg-terminal/30 rotate-45 transform origin-left"></div>
                    <div class="w-32 h-px bg-terminal/30 -rotate-12 transform origin-right"></div>
                </div>
                <div class="absolute top-1/4 left-1/4 text-center">
                    <div class="w-3 h-3 bg-terminal rounded-full mx-auto animate-ping"></div>
                    <div class="text-[10px] text-white mt-2">NODE A<br>DELAWARE (HQ)</div>
                </div>
                 <div class="absolute bottom-1/4 right-1/4 text-center">
                    <div class="w-3 h-3 bg-dim rounded-full mx-auto"></div>
                    <div class="text-[10px] text-gray-500 mt-2">NODE B<br>NY (CLIENTS)</div>
                </div>
            </div>

            <div id="uplink-container">
                <form id="uplink-form" action="mailto:contact@gpstandards.com" method="POST" enctype="text/plain" class="space-y-6">
                    <div>
                        <label class="block text-xs text-dim uppercase mb-2">Firm AUM / Revenue</label>
                        <select name="size" class="w-full bg-grid border border-dim p-3 text-white text-xs focus:border-terminal focus:outline-none uppercase">
                            <option>Under $10M (Waitlist)</option>
                            <option>$10M - $50M</option>
                            <option>$50M - $100M</option>
                            <option>$100M+</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs text-dim uppercase mb-2">Primary Risk Vector</label>
                        <input type="text" name="risk" placeholder="E.G. UNBILLED TIME / VACANCY" class="w-full bg-grid border border-dim p-3 text-white text-xs focus:border-terminal focus:outline-none uppercase" required>
                    </div>
                    <div>
                        <label class="block text-xs text-dim uppercase mb-2">Secure Comms (Email)</label>
                        <input type="email" name="email" class="w-full bg-grid border border-dim p-3 text-white text-xs focus:border-terminal focus:outline-none" required>
                    </div>
                    <button type="submit" class="w-full bg-terminal text-black font-bold py-4 hover:bg-white transition-colors uppercase tracking-widest text-xs">
                        REQUEST CLEARANCE
                    </button>
                </form>
            </div>
        </div>
    </dialog>

    <dialog id="modal-protocols" class="p-0">
        <div class="border-b border-terminal p-4 flex justify-between items-center bg-terminal/10">
            <h3 class="text-sm font-bold tracking-widest">/// INFRASTRUCTURE UPGRADES</h3>
            <button onclick="this.closest('dialog').close()" class="hover:text-white">✕</button>
        </div>
        <div class="p-8 bg-void grid md:grid-cols-3 gap-6">
            <div class="border border-dim p-6 hover:border-terminal transition-colors group">
                <div class="text-4xl text-dim font-bold mb-4 group-hover:text-terminal">01</div>
                <h4 class="text-white font-bold mb-2">ESSENTIALS</h4>
                <p class="text-xs text-gray-500 mb-4">STATUS: TRIAGE & RISK GATING</p>
                <ul class="text-xs text-dim space-y-2">
                    <li>> Liability Firewalls</li>
                    <li>> Basic Revenue Reclamation</li>
                </ul>
            </div>
            <div class="border border-terminal p-6 bg-terminal/5">
                <div class="text-4xl text-terminal font-bold mb-4">02</div>
                <h4 class="text-white font-bold mb-2">MOMENTUM</h4>
                <p class="text-xs text-terminal mb-4">STATUS: LEGACY REACTIVATION</p>
                <ul class="text-xs text-gray-400 space-y-2">
                    <li>> 3 "Digital Workers"</li>
                    <li>> Sovereign Vault Setup</li>
                    <li>> No-Cure No-Pay Leasing</li>
                </ul>
            </div>
            <div class="border border-dim p-6 hover:border-terminal transition-colors group">
                <div class="text-4xl text-dim font-bold mb-4 group-hover:text-terminal">03</div>
                <h4 class="text-white font-bold mb-2">DOMINANCE</h4>
                <p class="text-xs text-gray-500 mb-4">STATUS: KNOWLEDGE ECOSYSTEM</p>
                <ul class="text-xs text-dim space-y-2">
                    <li>> Custom Epistemic Engines</li>
                    <li>> Full NOI Uplift Suite</li>
                </ul>
            </div>
        </div>
    </dialog>

    <dialog id="modal-governance" class="p-0">
        <div class="border-b border-terminal p-4 flex justify-between items-center bg-terminal/10">
            <h3 class="text-sm font-bold tracking-widest">/// CONSTITUTIONAL FRAMEWORK</h3>
            <button onclick="this.closest('dialog').close()" class="hover:text-white">✕</button>
        </div>
        <div class="p-8 bg-void space-y-6">
            <div class="border-l-2 border-terminal pl-4">
                <h4 class="text-white font-bold mb-1">DATA SOVEREIGNTY</h4>
                <p class="text-xs text-gray-400">We warrant that NO client data is used to train public foundation models. Your data remains air-gapped.</p>
            </div>
            <div class="border-l-2 border-terminal pl-4">
                <h4 class="text-white font-bold mb-1">THE INDEMNITY</h4>
                <p class="text-xs text-gray-400">The "Hallucination Indemnity Protocol" is active for all Tier 2 & 3 engagements. We cover the cost of AI fabrication errors.</p>
            </div>
            <div class="p-4 bg-grid border border-dim text-[10px] text-gray-500 font-mono">
                > VIEW FULL TERMS AND CONDITIONS (OPERATIONAL CONSTITUTION_V4.PDF)
            </div>
        </div>
    </dialog>

    <dialog id="modal-alpha" class="p-0">
        <div class="border-b border-terminal p-4 flex justify-between items-center bg-terminal/10">
            <h3 class="text-sm font-bold tracking-widest">/// MARKET INTELLIGENCE BRIEFING</h3>
            <button onclick="this.closest('dialog').close()" class="hover:text-white">✕</button>
        </div>
        <div class="p-12 bg-void text-center">
            <p class="text-sm text-gray-400 mb-8">Access Real-Time Strategic Alpha via our Chief Architect.</p>
            <a href="https://www.linkedin.com/in/wesam-gpstandards" target="_blank" class="inline-block bg-terminal text-black font-bold py-3 px-8 hover:bg-white transition-colors uppercase tracking-widest text-xs">
                OPEN SECURE FEED (LINKEDIN)
            </a>
        </div>
    </dialog>

    <script>
        // Init Icons
        lucide.createIcons();

        // 1. CALCULATOR LOGIC (REPAIRED)
        function openCalculator(type) {
            document.getElementById('modal-calculator').showModal();
            calculateLoss(); // Run once on open
        }

        function calculateLoss() {
            // Get values (defaulting if empty)
            const rate = document.getElementById('hourlyRate').value || 0;
            const hours = document.getElementById('unbilledHours').value || 0;
            
            // Formula: Rate * Hours * 52 Weeks
            const totalLoss = rate * hours * 52;
            
            // Format currency
            const formatted = new Intl.NumberFormat('en-US', { 
                style: 'currency', 
                currency: 'USD', 
                maximumFractionDigits: 0 
            }).format(totalLoss);
            
            // Update UI
            document.getElementById('totalLoss').innerText = formatted;
            
            // Trigger Visual Reveal
            setTimeout(() => {
                document.getElementById('recovery-box').classList.remove('opacity-0');
            }, 500);
        }

        // 2. FORM UPLINK LOGIC (REPAIRED)
        document.getElementById('uplink-form').addEventListener('submit', function(e) {
            e.preventDefault(); // Stop page reload
            
            const container = document.getElementById('uplink-container');
            const originalContent = container.innerHTML;
            
            // 1. Show Processing State
            container.innerHTML = `
                <div class="flex flex-col items-center justify-center py-12 space-y-4">
                    <div class="w-12 h-12 border-4 border-terminal border-t-transparent rounded-full animate-spin"></div>
                    <div class="text-terminal text-xs tracking-widest animate-pulse">ENCRYPTING PACKET...</div>
                </div>
            `;

            // 2. Simulate Delay & Success (1.5s)
            setTimeout(() => {
                container.innerHTML = `
                    <div class="border border-success/30 bg-success/10 p-8 text-center animate-pulse">
                        <h4 class="text-success text-xl font-bold mb-2">> UPLINK ESTABLISHED</h4>
                        <p class="text-white text-xs mb-4">CLEARANCE PACKET SENT TO HQ.</p>
                        <p class="text-[10px] text-gray-500">Redirecting to Secure Comms...</p>
                    </div>
                `;
                
                // 3. Backend Fallback (Trigger Mailto)
                // We create a temporary link to trigger the mail client without breaking the UI
                setTimeout(() => {
                    const formData = new FormData(e.target);
                    const subject = "CLEARANCE REQUEST: " + formData.get('email');
                    const body = `Entity Size: ${formData.get('size')}%0D%0ARisk Vector: ${formData.get('risk')}`;
                    window.location.href = `mailto:contact@gpstandards.com?subject=${subject}&body=${body}`;
                }, 1000);

            }, 1500);
        });
    </script>
</body>
</html>
